{% extends "layout.html" %}
{% block body %}

<ul class="nav nav-tabs justify-content-center" id="tab" role="tablist">
    <li class="nav-item">
        <a class="nav-link" id="profile-tab" data-toggle="tab" href="#profile" role="tab" aria-controls="profile" aria-selected="true">Profile</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" id="changeusr-tab" data-toggle="tab" href="#changeusr" role="tab" aria-controls="changeusr" aria-selected="false">Change Username</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" id="changepsw-tab" data-toggle="tab" href="#changepsw" role="tab" aria-controls="changepsw" aria-selected="false">Change Password</a>
    </li>
</ul> 

<div class="tab-content" id="tabContent">
    <div class="tab-pane fade show active" id="profile" role="tabpanel" aria-labelledby="profile-tab" align=center>
        <table class="table thread-subjects">
            <tbody>
                <tr>
                    <td>
                        Username:
                    </td>
                    <td>
                        {{user_info.username}}
                    </td>
                </tr>
                <tr>
                    <td>
                        Registered on:
                    </td>
                    <td>
                        {{user_info.date_posted}}
                    </td>
                </tr>
                <tr>
                    <td>
                        Threads posted:
                    </td>
                    <td>
                        {{user_info.threadcount}}
                    </td>
                </tr>
                <tr>
                    <td>
                        Posts:
                    </td>
                    <td>
                        {{user_info.postcount}}
                    </td>
                </tr>
            </tbody>
        </table>
        <form method="POST" action="{{url_for('user_page', user_id = user_info.id)}}">
            <button class="btn btn-lg btn-danger" type="submit">DELETE</button>
        </form>    
    </div>
    
    <div class="tab-pane fade" id="changeusr" role="tabpanel" aria-labelledby="changeusr-tab">
        <div class="auth-form">
            <form method="POST" action="{{url_for('user_username', user_id = user_info.id)}}">
                <h1 class="h3 mb-3 font-weight-normal">Change username</h1>
                <label for="new_username" class="sr-only">{{username_change_form.new_username.label}}</label>
                {{username_change_form.new_username(class_="form-control", placeholder="New Username")}}
                <label for="rep_username" class="sr-only">{{username_change_form.rep_username.label}}</label>
                {{username_change_form.rep_username(class_="form-control", placeholder="Repeat Username")}}
                <button class="btn btn-lg btn-primary" type="submit">Change</button>
            </form>
        </div>
    </div>

    <div class="tab-pane fade" id="changepsw" role="tabpanel" aria-labelledby="changepsw-tab">
        <div class="auth-form">
            <form method="POST" action="{{url_for('user_password', user_id = user_info.id)}}">
                <h1 class="h3 mb-3 font-weight-normal">Change password</h1>
                <label for="new_password" class="sr-only">{{password_change_form.old_password.label}}</label>
                {{password_change_form.old_password(class_="form-control", placeholder="Old password")}}
                <label for="new_password" class="sr-only">{{password_change_form.new_password.label}}</label>
                {{password_change_form.new_password(class_="form-control", placeholder="New passsword")}}
                <label for="rep_password" class="sr-only">{{password_change_form.rep_password.label}}</label>
                {{password_change_form.rep_password(class_="form-control", placeholder="Repeat password")}}
                <button class="btn btn-lg btn-primary" type="submit">Change</button>
            </form>
        </div>
    </div>
</div>
{% endblock %}