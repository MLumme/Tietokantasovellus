{% extends "layout.html" %}
{% block body %}
   
{% if thread_search %}
    <div class="flexbox">
        Threads fulfilling search
    </div>

    <div class="container" align="left">
        <div class="row table-primary header">
            <div class="col border">
                Title
            </div>
            <div class="col-2 border">
                Created on:
            </div>
            <div class="col-2 border">
                Last posted on:
            </div>
        </div>

        {% for thread in thread_search %}
            <div class="row">
                <div class="col border">
                    <a href="{{url_for('thread_view', thread_id = thread.id)}}">{{thread.title}}</a>
                </div>
                <div class="col-2 border">
                    {{thread.date_posted}}
                </div>
                <div class="col-2 border">
                    {{thread.date_edited}}
                </div> 
            </div>
        {% endfor %}
    </div>   
{% endif %}

{% if message_search %}
<div class="flexbox">
    Messages fulfilling search
</div>
    <div class="container">
        {% for message_set in message_search%}
        <div class="row">
            <div class="col-12 bg-primary border">
                <h3>{{message_set.title}}</h3>
            </div>
        </div>
        <div class="row message-row">
            <div class="col-2 bg-light border" align="left">
                <div class="user-row" float="top">
                    <h4>{{message_set.username}}</h4> <br>
                </div>
                <div class="info-row">
                    {{message_set.date_posted}} <br>
                    
                    {% if message_set.date_posted != message_set.date_edited %}
                        Edited on:<br>
                        {{message_set.date_edited}} <br>
                    {% endif %}
                </div>    
            </div>
            <div class="col-10 border" align="left">
                <p>{{message_set.content}}</p>
            </div>
        </div>
        {% endfor %}
    </div>
{% endif %}

{% endblock %}